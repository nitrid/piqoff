"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[9474],{39474:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=n(4942),i=n(15861),r=n(15671),s=n(43144),c=n(97326),o=n(60136),l=n(82963),d=n(61120),u=n(64687),m=n.n(u),h=n(67294),E=n(73364),p=n(4598),f=n(30381),b=n.n(f),C=n(42866),g=n.n(C),v=n(53221),x=n.n(v),O=n(25552),D=n.n(O),S=n(65580),w=n.n(S),k=(n(91686),n(30886)),T=n(99846),y=n(5083),R=n(99077),N=(n(55585),n(417)),P=n(32175),U=n(18405),I=n(73682),L=n(90428),_=(n(57941),n(60547));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(17276),n(51166);var Z=function(e){(0,o.Z)(Z,e);var t,n,a,u,f,C,v,S,M=(v=Z,S=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(v);if(S){var n=(0,d.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,l.Z)(this,e)});function Z(e){var t;return(0,r.Z)(this,Z),(t=M.call(this,e)).core=E.Z.instance.core,t.prmObj=t.param.filter({TYPE:1,USERS:t.user.CODE}),t.acsobj=t.access.filter({TYPE:1,USERS:t.user.CODE}),t.docObj=new p.Ch,t.tabIndex=e.data.tabkey,t._calculateTotal=t._calculateTotal.bind((0,c.Z)(t)),t._addPayment=t._addPayment.bind((0,c.Z)(t)),t.docLocked=!1,t}return(0,s.Z)(Z,[{key:"componentDidMount",value:(C=(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.util.waitUntil(0);case 2:this.init();case 3:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:"init",value:(f=(0,i.Z)(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.docObj.clearAll(),this.docObj.ds.on("onAddRow",(function(e,t){"new"==t.stat&&(n.btnNew.setState({disabled:!1}),n.btnBack.setState({disabled:!1}),n.btnNew.setState({disabled:!1}),n.btnBack.setState({disabled:!0}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnCopy.setState({disabled:!1}),n.btnPrint.setState({disabled:!1}))})),this.docObj.ds.on("onEdit",(function(e,t){"edit"==t.rowData.stat&&(n.btnBack.setState({disabled:!1}),n.btnNew.setState({disabled:!0}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnCopy.setState({disabled:!1}),n.btnPrint.setState({disabled:!1}),t.rowData.CUSER=n.user.CODE)})),this.docObj.ds.on("onRefresh",(function(e){n.btnBack.setState({disabled:!0}),n.btnNew.setState({disabled:!1}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnCopy.setState({disabled:!1}),n.btnPrint.setState({disabled:!1})})),this.docObj.ds.on("onDelete",(function(e){n.btnBack.setState({disabled:!1}),n.btnNew.setState({disabled:!1}),n.btnSave.setState({disabled:!1}),n.btnDelete.setState({disabled:!1}),n.btnCopy.setState({disabled:!1}),n.btnPrint.setState({disabled:!1})})),this.dtDocDate.value=b()(new Date),(t=A({},this.docObj.empty)).TYPE=0,t.DOC_TYPE=200,t.INPUT="00000000-0000-0000-0000-000000000000",this.docObj.addEmpty(t),this.txtRef.readOnly=!1,this.txtRefno.readOnly=!1,this.docLocked=!1,this.frmCollection.option("disabled",!1),e.next=17,this.grdDocPayments.dataRefresh({source:this.docObj.docCustomer.dt("DOC_CUSTOMER")});case 17:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getDoc",value:(u=(0,i.Z)(m().mark((function e(t,n,a){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.docObj.clearAll(),e.next=3,this.docObj.load({GUID:t,REF:n,REF_NO:a,TYPE:0,DOC_TYPE:200});case 3:if(this.txtRef.readOnly=!0,this.txtRefno.readOnly=!0,0==this.docObj.dt()[0].LOCKED){e.next=13;break}return this.docLocked=!0,i={id:"msgGetLocked",showTitle:!0,title:this.t("msgGetLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:this.t("msgGetLocked.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},this.t("msgGetLocked.msg"))},e.next=10,(0,_.W)(i);case 10:this.frmCollection.option("disabled",!0),e.next=15;break;case 13:this.docLocked=!1,this.frmCollection.option("disabled",!1);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"checkDoc",value:(a=(0,i.Z)(m().mark((function e(t,n,a){var r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,i.Z)(m().mark((function e(i){var s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n){e.next=15;break}return e.next=3,(new p.Ch).load({GUID:t,REF:n,REF_NO:a});case 3:if(!(e.sent.length>0)){e.next=12;break}return s={id:"msgCode",showTitle:!0,title:"Dikkat",showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:"Evrağa Git",location:"before"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},"Evrak Bulundu")},e.next=8,(0,_.W)(s);case 8:"btn01"==e.sent?(r.getDoc(t,n,a),i(2)):i(3),e.next=13;break;case 12:i(1);case 13:e.next=16;break;case 15:i(0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"_calculateTotal",value:(n=(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.docObj.dt()[0].AMOUNT=this.docObj.docCustomer.dt().sum("AMOUNT",2),this.docObj.dt()[0].TOTAL=this.docObj.docCustomer.dt().sum("AMOUNT",2);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_addPayment",value:(t=(0,i.Z)(m().mark((function e(t){var n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=A({},this.docObj.docCustomer.empty)).DOC_GUID=this.docObj.dt()[0].GUID,n.TYPE=this.docObj.dt()[0].TYPE,n.REF=this.docObj.dt()[0].REF,n.REF_NO=this.docObj.dt()[0].REF_NO,n.DOC_TYPE=this.docObj.dt()[0].DOC_TYPE,n.DOC_DATE=this.docObj.dt()[0].DOC_DATE,n.OUTPUT=this.docObj.dt()[0].OUTPUT,0==t?(n.INPUT=this.cmbCashSafe.value,n.INPUT_NAME=this.cmbCashSafe.displayValue,n.PAY_TYPE=0,n.AMOUNT=this.numCash.value,n.DESCRIPTION=this.cashDescription.value):1==t?(n.INPUT=this.cmbCheckSafe.value,n.INPUT_NAME=this.cmbCheckSafe.displayValue,n.PAY_TYPE=1,n.AMOUNT=this.numcheck.value,n.DESCRIPTION=this.checkDescription.value,(a=A({},this.docObj.checkCls.empty)).DOC_GUID=this.docObj.dt()[0].GUID,a.REF=checkReference.value,a.DOC_DATE=this.docObj.dt()[0].DOC_DATE,a.CHECK_DATE=this.docObj.dt()[0].DOC_DATE,a.CUSTOMER=this.docObj.dt()[0].OUTPUT,a.AMOUNT=this.numcheck.value,a.SAFE=this.cmbCheckSafe.value,this.docObj.checkCls.addEmpty(a)):1==t&&(n.INPUT=this.cmbBank.value,n.INPUT_NAME=this.cmbBank.displayValue,n.PAY_TYPE=2,n.AMOUNT=this.numBank.value,n.DESCRIPTION=this.bankDescription.value),this.docObj.docCustomer.addEmpty(n),this._calculateTotal();case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this;return h.createElement("div",null,h.createElement(g(),null,h.createElement("div",{className:"row px-2 pt-2"},h.createElement("div",{className:"col-12"},h.createElement(x(),null,h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnBack",parent:this,icon:"revert",type:"default",onClick:function(){t.getDoc(t.docObj.dt()[0].GUID,t.docObj.dt()[0].REF,t.docObj.dt()[0].REF_NO)}})),h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnNew",parent:this,icon:"file",type:"default",onClick:function(){t.init()}})),h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnSave",parent:this,icon:"floppy",type:"default",validationGroup:"frmCollection"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){var a,i,r,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.docLocked){e.next=5;break}return a={id:"msgDocLocked",showTitle:!0,title:t.t("msgDocLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgDocLocked.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgDocLocked.msg"))},e.next=4,(0,_.W)(a);case 4:return e.abrupt("return");case 5:if("valid"!=n.validationGroup.validate().status){e.next=28;break}return i={id:"msgSave",showTitle:!0,title:t.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgSave.btn01"),location:"before"},{id:"btn02",caption:t.t("msgSave.btn02"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgSave.msg"))},e.next=9,(0,_.W)(i);case 9:if("btn01"!=e.sent){e.next=26;break}return r={id:"msgSaveResult",showTitle:!0,title:t.t("msgSave.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgSave.btn01"),location:"after"}]},e.next=14,t.docObj.save();case 14:if(e.t0=e.sent,0!=e.t0){e.next=23;break}return r.content=h.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"green"}},t.t("msgSaveResult.msgSuccess")),e.next=19,(0,_.W)(r);case 19:t.btnSave.setState({disabled:!0}),t.btnNew.setState({disabled:!1}),e.next=26;break;case 23:return r.content=h.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"red"}},t.t("msgSaveResult.msgFailed")),e.next=26,(0,_.W)(r);case 26:e.next=31;break;case 28:return s={id:"msgSaveValid",showTitle:!0,title:t.t("msgSaveValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgSaveValid.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgSaveValid.msg"))},e.next=31,(0,_.W)(s);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnDelete",parent:this,icon:"trash",type:"default",onClick:(0,i.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:"msgDelete",showTitle:!0,title:t.t("msgDelete.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgDelete.btn01"),location:"before"},{id:"btn02",caption:t.t("msgDelete.btn02"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgDelete.msg"))},e.next=3,(0,_.W)(n);case 3:if("btn01"!=e.sent){e.next=9;break}return t.docObj.dt("DOC").removeAt(0),e.next=8,t.docObj.dt("DOC").delete();case 8:t.init();case 9:case"end":return e.stop()}}),e)})))})),h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnLock",parent:this,icon:"key",type:"default",onClick:(0,i.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.docObj.dt()[0].LOCKED){e.next=18;break}return t.docObj.dt()[0].LOCKED=1,e.next=4,t.docObj.save();case 4:return e.next=6,t.docObj.save();case 6:if(e.t0=e.sent,0!=e.t0){e.next=13;break}return n={id:"msgLocked",showTitle:!0,title:t.t("msgLocked.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgLocked.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgLocked.msg"))},e.next=11,(0,_.W)(n);case 11:e.next=16;break;case 13:return tmpConfObj1.content=h.createElement("div",{style:{textAlign:"center",fontSize:"20px",color:"red"}},t.t("msgSaveResult.msgFailed")),e.next=16,(0,_.W)(tmpConfObj1);case 16:e.next=19;break;case 18:t.popPassword.show();case 19:case"end":return e.stop()}}),e)})))})),h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnCopy",parent:this,icon:"copy",type:"default",onClick:function(){}})),h.createElement(O.Item,{location:"after",locateInMenu:"auto"},h.createElement(I.Z,{id:"btnPrint",parent:this,icon:"print",type:"default",onClick:function(){t.popDesign.show()}})),h.createElement(O.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:{type:"default",icon:"clear",onClick:(e=(0,i.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:"msgClose",showTitle:!0,title:t.lang.t("msgWarning"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.lang.t("btnYes"),location:"before"},{id:"btn02",caption:t.lang.t("btnNo"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.lang.t("msgClose"))},e.next=3,(0,_.W)(n);case 3:"btn01"==e.sent&&E.Z.instance.panel.closePage();case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}})))),h.createElement("div",{className:"row px-2 pt-2"},h.createElement("div",{className:"col-12"},h.createElement(D(),{colCount:3,id:"frmCollection"+this.tabIndex},h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("txtRefRefno"),alignment:"right"}),h.createElement("div",{className:"row"},h.createElement("div",{className:"col-4 pe-0"},h.createElement(T.ZP,{id:"txtRef",parent:this,simple:!0,dt:{data:this.docObj.dt("DOC"),field:"REF"},upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,readOnly:!0,maxLength:32,onChange:function(){var e=(0,i.Z)(m().mark((function e(n){var a,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={query:"SELECT ISNULL(MAX(REF_NO) + 1,1) AS REF_NO FROM DOC WHERE TYPE = 0 AND DOC_TYPE = 200 AND REF = @REF ",param:["REF:string|25"],value:[t.txtRef.value]},e.next=3,t.core.sql.execute(a);case 3:(i=e.sent).result.recordset.length>0&&(t.txtRefno.value=i.result.recordset[0].REF_NO);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),param:this.param.filter({ELEMENT:"txtRef",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtRef",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollection"+this.tabIndex},h.createElement(T.n2,{message:this.t("validRef")})))),h.createElement("div",{className:"col-5 ps-0"},h.createElement(T.ZP,{id:"txtRefno",parent:this,simple:!0,dt:{data:this.docObj.dt("DOC"),field:"REF_NO"},readOnly:!0,button:[{id:"01",icon:"more",onClick:function(){t.pg_Docs.show(),t.pg_Docs.onClick=function(e){e.length>0&&t.getDoc(e[0].GUID,e[0].REF,e[0].REF_NO)}}},{id:"02",icon:"arrowdown",onClick:function(){t.txtRefno.value=Math.floor(Date.now()/1e3)}}],onChange:(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkDoc("00000000-0000-0000-0000-000000000000",t.txtRef.value,t.txtRefno.value);case 2:3==e.sent&&(t.txtRefno.value="");case 4:case"end":return e.stop()}}),e)}))).bind(this),param:this.param.filter({ELEMENT:"txtRefno",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtRefno",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollection"+this.tabIndex},h.createElement(T.n2,{message:this.t("validRefNo")}))))),h.createElement(N.Z,{id:"pg_Docs",parent:this,container:"#root",visible:!1,position:{of:"#root"},showTitle:!0,showBorders:!0,width:"90%",height:"90%",title:this.t("pg_Docs.title"),data:{source:{select:{query:"SELECT GUID,REF,REF_NO,OUTPUT_CODE,OUTPUT_NAME FROM DOC_VW_01 WHERE TYPE = 0 AND DOC_TYPE = 200"},sql:this.core.sql}},button:[{id:"01",icon:"more",onClick:function(){}}]},h.createElement(U.sg,{dataField:"REF",caption:this.t("pg_Docs.clmRef"),width:150,defaultSortOrder:"asc"}),h.createElement(U.sg,{dataField:"REF_NO",caption:this.t("pg_Docs.clmRefNo"),width:300,defaultSortOrder:"asc"}),h.createElement(U.sg,{dataField:"OUTPUT_NAME",caption:this.t("pg_Docs.clmOutputName"),width:300,defaultSortOrder:"asc"}),h.createElement(U.sg,{dataField:"OUTPUT_CODE",caption:this.t("pg_Docs.clmOutputCode"),width:300,defaultSortOrder:"asc"}))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("dtDocDate"),alignment:"right"}),h.createElement(L.ZP,{simple:!0,parent:this,id:"dtDocDate",dt:{data:this.docObj.dt("DOC"),field:"DOC_DATE"},onValueChanged:(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this)},h.createElement(T.cX,{validationGroup:"frmCollection"+this.tabIndex},h.createElement(T.n2,{message:this.t("validDocDate")})))),h.createElement(O.EmptyItem,null),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("txtCustomerCode"),alignment:"right"}),h.createElement(T.ZP,{id:"txtCustomerCode",parent:this,simple:!0,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,dt:{data:this.docObj.dt("DOC"),field:"OUTPUT_CODE"},onEnterKey:(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pg_txtCustomerCode.setVal(t.txtCustomerCode.value);case 2:t.pg_txtCustomerCode.show(),t.pg_txtCustomerCode.onClick=function(e){if(e.length>0){t.docObj.dt()[0].OUTPUT=e[0].GUID,t.docObj.dt()[0].OUTPUT_CODE=e[0].CODE,t.docObj.dt()[0].OUTPUT_NAME=e[0].TITLE;var n=t.sysParam.filter({ID:"refForCustomerCode",USERS:t.user.CODE}).getValue();void 0!==n&&1==n.value&&(t.txtRef.setState({value:e[0].CODE}),t.txtRef.props.onChange())}};case 4:case"end":return e.stop()}}),e)}))).bind(this),button:[{id:"01",icon:"more",onClick:function(){t.pg_txtCustomerCode.show(),t.pg_txtCustomerCode.onClick=function(e){if(e.length>0){t.docObj.dt()[0].OUTPUT=e[0].GUID,t.docObj.dt()[0].OUTPUT_CODE=e[0].CODE,t.docObj.dt()[0].OUTPUT_NAME=e[0].TITLE;var n=t.sysParam.filter({ID:"refForCustomerCode",USERS:t.user.CODE}).getValue();void 0!==n&&1==n.value&&(t.txtRef.setState({value:e[0].CODE}),t.txtRef.props.onChange())}}}}],param:this.param.filter({ELEMENT:"txtCustomerCode",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtCustomerCode",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollection"+this.tabIndex},h.createElement(T.n2,{message:this.t("validCustomerCode")}))),h.createElement(N.Z,{id:"pg_txtCustomerCode",parent:this,container:"#root",visible:!1,position:{of:"#root"},showTitle:!0,showBorders:!0,width:"90%",height:"90%",title:this.t("pg_txtCustomerCode.title"),search:!0,data:{source:{select:{query:"SELECT GUID,CODE,TITLE,NAME,LAST_NAME,[TYPE_NAME],[GENUS_NAME] FROM CUSTOMER_VW_01 WHERE UPPER(CODE) LIKE UPPER(@VAL) OR UPPER(TITLE) LIKE UPPER(@VAL)",param:["VAL:string|50"]},sql:this.core.sql}},button:{id:"01",icon:"more",onClick:function(){console.log(1111)}}},h.createElement(U.sg,{dataField:"CODE",caption:this.t("pg_txtCustomerCode.clmCode"),width:150}),h.createElement(U.sg,{dataField:"TITLE",caption:this.t("pg_txtCustomerCode.clmTitle"),width:500,defaultSortOrder:"asc"}),h.createElement(U.sg,{dataField:"TYPE_NAME",caption:this.t("pg_txtCustomerCode.clmTypeName"),width:150}),h.createElement(U.sg,{dataField:"GENUS_NAME",caption:this.t("pg_txtCustomerCode.clmGenusName"),width:150,filterType:"include",filterValues:["Tedarikçi"]}))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("txtCustomerName"),alignment:"right"}),h.createElement(T.ZP,{id:"txtCustomerName",parent:this,simple:!0,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,dt:{data:this.docObj.dt("DOC"),field:"OUTPUT_NAME"},readOnly:!0,param:this.param.filter({ELEMENT:"txtCustomerName",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtCustomerName",USERS:this.user.CODE})})),h.createElement(O.EmptyItem,null),h.createElement(O.EmptyItem,null)))),h.createElement("div",{className:"row px-2 pt-2"},h.createElement("div",{className:"col-12"},h.createElement(D(),{colCount:10,onInitialized:function(e){t.frmCollection=e.component}},h.createElement(O.Item,{location:"after"},h.createElement(k.Button,{icon:"add",text:this.t("btnCash"),validationGroup:"frmCollection"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("valid"!=n.validationGroup.validate().status){e.next=6;break}t.numCash.setState({value:0}),t.cashDescription.setState({value:""}),t.popCash.show(),e.next=9;break;case 6:return a={id:"msgDocValid",showTitle:!0,title:t.t("msgDocValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgDocValid.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgDocValid.msg"))},e.next=9,(0,_.W)(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement(O.Item,{location:"after"},h.createElement(k.Button,{icon:"add",text:this.t("btnCheck"),validationGroup:"frmCollection"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("valid"!=n.validationGroup.validate().status){e.next=7;break}t.checkReference.setState({value:""}),t.numcheck.setState({value:0}),t.checkDescription.setState({value:""}),t.popCheck.show(),e.next=10;break;case 7:return a={id:"msgDocValid",showTitle:!0,title:t.t("msgDocValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgDocValid.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgDocValid.msg"))},e.next=10,(0,_.W)(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement(O.Item,{location:"after"},h.createElement(k.Button,{icon:"add",text:this.t("btnBank"),width:200,validationGroup:"frmCollection"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("valid"!=n.validationGroup.validate().status){e.next=6;break}t.numBank.setState({value:0}),t.bankDescription.setState({value:""}),t.popBank.show(),e.next=9;break;case 6:return a={id:"msgDocValid",showTitle:!0,title:t.t("msgDocValid.title"),showCloseButton:!0,width:"500px",height:"200px",button:[{id:"btn01",caption:t.t("msgDocValid.btn01"),location:"after"}],content:h.createElement("div",{style:{textAlign:"center",fontSize:"20px"}},t.t("msgDocValid.msg"))},e.next=9,(0,_.W)(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement(O.EmptyItem,{colSpan:7}),h.createElement(O.Item,{colSpan:10},h.createElement(h.Fragment,null,h.createElement(U.ZP,{parent:this,id:"grdDocPayments",showBorders:!0,columnsAutoWidth:!0,allowColumnReordering:!0,allowColumnResizing:!0,height:"500",width:"100%",dbApply:!1,onRowUpdated:function(){var e=(0,i.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.component.getRowIndexByKey(n.key),t._calculateTotal();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onRowRemoved:function(){var e=(0,i.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._calculateTotal(),e.next=3,t.docObj.save();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h.createElement(U.m_,{editOnKeyPress:!0,enterKeyAction:"moveFocus",enterKeyDirection:"column"}),h.createElement(U.PY,{mode:"virtual"}),h.createElement(U.LO,{mode:"cell",allowUpdating:!0,allowDeleting:!0}),h.createElement(U.D7,{fileName:this.lang.t("menu.fns_02_002"),enabled:!0,allowExportSelectedData:!0}),h.createElement(U.sg,{dataField:"CDATE_FORMAT",caption:this.t("grdDocPayments.clmCreateDate"),width:200,allowEditing:!1}),h.createElement(U.sg,{dataField:"INPUT_NAME",caption:this.t("grdDocPayments.clmInputName"),allowEditing:!1}),h.createElement(U.sg,{dataField:"AMOUNT",caption:this.t("grdDocPayments.clmAmount"),format:{style:"currency",currency:"EUR",precision:2}}),h.createElement(U.sg,{dataField:"DESCRIPTION",caption:this.t("grdDocPayments.clmDescription")})),h.createElement(w(),{dataSource:this.rightItems,width:200,target:"#grdDocPayments",onItemClick:function(){var e=(0,i.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this)})))))),h.createElement("div",{className:"row px-2 pt-2"},h.createElement("div",{className:"col-12"},h.createElement(D(),{colCount:4,parent:this,id:"frmCollection"+this.tabIndex},h.createElement(O.EmptyItem,{colSpan:3}),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("txtTotal"),alignment:"right"}),h.createElement(T.ZP,{id:"txtTotal",parent:this,simple:!0,readOnly:!0,dt:{data:this.docObj.dt("DOC"),field:"TOTAL"},maxLength:32,param:this.param.filter({ELEMENT:"txtTotal",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"txtTotal",USERS:this.user.CODE})}))))),h.createElement("div",null,h.createElement(P.ZP,{parent:this,id:"popCash",visible:!1,showCloseButton:!0,showTitle:!0,title:this.t("popCash.title"),container:"#root",width:"500",height:"300",position:{of:"#root"}},h.createElement(D(),{colCount:1,height:"fit-content"},h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("cmbCashSafe"),alignment:"right"}),h.createElement(R.ZP,{simple:!0,parent:this,id:"cmbCashSafe",displayExpr:"NAME",valueExpr:"GUID",value:"",searchEnabled:!0,notRefresh:!0,onValueChanged:(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this),data:{source:{select:{query:"SELECT * FROM SAFE_VW_01 WHERE TYPE = 0"},sql:this.core.sql}},param:this.param.filter({ELEMENT:"cmbCashSafe",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cmbCashSafe",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollCash"+this.tabIndex},h.createElement(T.n2,{message:this.t("ValidCash")})))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("cash"),alignment:"right"}),h.createElement("div",{className:"col-4 pe-0"},h.createElement(y.ZP,{id:"numCash",parent:this,simple:!0,maxLength:32,param:this.param.filter({ELEMENT:"numCash",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"numCash",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollCash"+this.tabIndex},h.createElement(T.n2,{message:this.t("ValidCash")}))))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("description"),alignment:"right"}),h.createElement("div",{className:"col-12 pe-0"},h.createElement(T.ZP,{id:"cashDescription",parent:this,simple:!0,width:500,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,maxLength:32,param:this.param.filter({ELEMENT:"cashDescription",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cashDescription",USERS:this.user.CODE})}))),h.createElement(O.Item,null,h.createElement("div",{className:"row"},h.createElement("div",{className:"col-6"},h.createElement(I.Z,{text:this.t("popCash.btnApprove"),type:"normal",stylingMode:"contained",width:"100%",validationGroup:"frmCollCash"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"valid"==n.validationGroup.validate().status&&(t._addPayment(0),t.popCash.hide());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement("div",{className:"col-6"},h.createElement(I.Z,{text:this.lang.t("btnCancel"),type:"normal",stylingMode:"contained",width:"100%",onClick:function(){t.popCash.hide()}}))))))),h.createElement("div",null,h.createElement(P.ZP,{parent:this,id:"popCheck",visible:!1,showCloseButton:!0,showTitle:!0,title:this.t("popCheck.title"),container:"#root",width:"500",height:"300",position:{of:"#root"}},h.createElement(D(),{colCount:1,height:"fit-content"},h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("cmbCheckSafe"),alignment:"right"}),h.createElement(R.ZP,{simple:!0,parent:this,id:"cmbCheckSafe",displayExpr:"NAME",valueExpr:"GUID",value:"",searchEnabled:!0,notRefresh:!0,onValueChanged:(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this),data:{source:{select:{query:"SELECT * FROM SAFE_VW_01 WHERE TYPE = 1"},sql:this.core.sql}},param:this.param.filter({ELEMENT:"cmbCheckSafe",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cmbCheckSafe",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollCheck"+this.tabIndex},h.createElement(T.n2,{message:this.t("ValidCash")})))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("checkReference"),alignment:"right"}),h.createElement("div",{className:"col-12 pe-0"},h.createElement(T.ZP,{id:"checkReference",parent:this,simple:!0,width:500,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,maxLength:32,param:this.param.filter({ELEMENT:"checkReference",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"checkReference",USERS:this.user.CODE})}))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("cash"),alignment:"right"}),h.createElement("div",{className:"col-4 pe-0"},h.createElement(y.ZP,{id:"numcheck",parent:this,simple:!0,maxLength:32,param:this.param.filter({ELEMENT:"numcheck",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"numcheck",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollCheck"+this.tabIndex},h.createElement(T.n2,{message:this.t("ValidCash")}))))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("description"),alignment:"right"}),h.createElement("div",{className:"col-12 pe-0"},h.createElement(T.ZP,{id:"checkDescription",parent:this,simple:!0,width:500,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,maxLength:32,param:this.param.filter({ELEMENT:"checkDescription",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"checkDescription",USERS:this.user.CODE})}))),h.createElement(O.Item,null,h.createElement("div",{className:"row"},h.createElement("div",{className:"col-6"},h.createElement(I.Z,{text:this.t("popCheck.btnApprove"),type:"normal",stylingMode:"contained",width:"100%",validationGroup:"frmCollCheck"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"valid"==n.validationGroup.validate().status&&(t._addPayment(1),t.popCheck.hide());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement("div",{className:"col-6"},h.createElement(I.Z,{text:this.lang.t("btnCancel"),type:"normal",stylingMode:"contained",width:"100%",onClick:function(){t.popCheck.hide()}}))))))),h.createElement("div",null,h.createElement(P.ZP,{parent:this,id:"popBank",visible:!1,showCloseButton:!0,showTitle:!0,title:this.t("popBank.title"),container:"#root",width:"500",height:"300",position:{of:"#root"}},h.createElement(D(),{colCount:1,height:"fit-content"},h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("cmbBank"),alignment:"right"}),h.createElement(R.ZP,{simple:!0,parent:this,id:"cmbBank",displayExpr:"NAME",valueExpr:"GUID",value:"",searchEnabled:!0,notRefresh:!0,onValueChanged:(0,i.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).bind(this),data:{source:{select:{query:"SELECT * FROM BANK_VW_01 WHERE TYPE = 0"},sql:this.core.sql}},param:this.param.filter({ELEMENT:"cmbBank",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"cmbBank",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollBank"+this.tabIndex},h.createElement(T.n2,{message:this.t("validBank")})))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("cash"),alignment:"right"}),h.createElement("div",{className:"col-4 pe-0"},h.createElement(y.ZP,{id:"numBank",parent:this,simple:!0,maxLength:32,param:this.param.filter({ELEMENT:"numBank",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"numBank",USERS:this.user.CODE})},h.createElement(T.cX,{validationGroup:"frmCollBank"+this.tabIndex},h.createElement(T.n2,{message:this.t("ValidCash")}))))),h.createElement(O.Item,null,h.createElement(O.Label,{text:this.t("description"),alignment:"right"}),h.createElement("div",{className:"col-12 pe-0"},h.createElement(T.ZP,{id:"bankDescription",parent:this,simple:!0,width:500,upper:this.sysParam.filter({ID:"onlyBigChar",USERS:this.user.CODE}).getValue().value,maxLength:32,param:this.param.filter({ELEMENT:"bankDescription",USERS:this.user.CODE}),access:this.access.filter({ELEMENT:"bankDescription",USERS:this.user.CODE})}))),h.createElement(O.Item,null,h.createElement("div",{className:"row"},h.createElement("div",{className:"col-6"},h.createElement(I.Z,{text:this.t("popBank.btnApprove"),type:"normal",stylingMode:"contained",width:"100%",validationGroup:"frmCollCheck"+this.tabIndex,onClick:function(){var e=(0,i.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"valid"==n.validationGroup.validate().status&&(t._addPayment(2),t.popBank.hide());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),h.createElement("div",{className:"col-6"},h.createElement(I.Z,{text:this.lang.t("btnCancel"),type:"normal",stylingMode:"contained",width:"100%",onClick:function(){t.popBank.hide()}})))))))))}}]),Z}(h.PureComponent)}}]);